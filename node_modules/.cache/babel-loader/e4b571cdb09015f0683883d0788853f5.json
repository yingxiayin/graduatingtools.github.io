{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/cascader/style/css\";\nimport _Cascader from \"antd/es/cascader\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nimport _classCallCheck from \"/Users/yingxiayin/WebstormProjects/react-chabiye/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yingxiayin/WebstormProjects/react-chabiye/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yingxiayin/WebstormProjects/react-chabiye/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yingxiayin/WebstormProjects/react-chabiye/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yingxiayin/WebstormProjects/react-chabiye/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/yingxiayin/WebstormProjects/react-chabiye/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nvar _jsxFileName = \"/Users/yingxiayin/WebstormProjects/react-chabiye/src/pages/Login/index.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { sendStudentData } from './../../redux/action';\nimport majorOptions from '../../list';\nimport request from '../../dataCal/dataCal';\nvar FormItem = _Form.Item;\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  //初始化\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.handleClick = function () {\n      //const that = this;\n      //与后端通讯\n      request(_this.state.studentID, _this.state.studentPassword, _assertThisInitialized(_assertThisInitialized(_this))).then(function (response) {\n        var that = this;\n        console.log(response);\n\n        if (response.status === 200) {\n          console.log(response.data);\n          var res = response.data;\n          console.log(res);\n          var dispatch = that.props.dispatch;\n          dispatch(sendStudentData(that.state));\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n      console.log(_this.state);\n    };\n\n    _this.handleChange = function (studentData) {\n      switch (studentData.target.id) {\n        case \"sd\":\n          _this.setState({\n            \"studentID\": studentData.target.value\n          });\n\n          break;\n\n        case \"pw\":\n          _this.setState({\n            \"studentPassword\": studentData.target.value\n          });\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.doHandleClick = function () {};\n\n    _this.handleChoose = function (studentData) {\n      _this.setState({\n        \"studentMajor\": studentData[1]\n      });\n    };\n\n    _this.state = {\n      \"studentID\": '',\n      \"studentPassword\": '',\n      \"studentMajor\": '',\n      \"J\": '',\n      \"S\": '',\n      \"FL\": '',\n      \"GC\": '',\n      \"PA\": '',\n      \"NS\": '',\n      \"NC\": '',\n      \"CC\": '',\n      \"Credit\": ''\n    };\n    return _this;\n  } //传递学生数据\n\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(_Form, {\n        className: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(_Input, {\n        prefix: React.createElement(_Icon, {\n          type: \"user\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }),\n        id: \"sd\",\n        placeholder: \"\\u5B66\\u53F7\",\n        onChange: this.handleChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(_Input, {\n        prefix: React.createElement(_Icon, {\n          type: \"lock\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }),\n        id: \"pw\",\n        type: \"password\",\n        placeholder: \"\\u5BC6\\u7801\",\n        onChange: this.handleChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(_Cascader, {\n        options: majorOptions,\n        id: \"mo\",\n        placeholder: \"\\u9009\\u62E9\\u4E13\\u4E1A\",\n        onChange: this.handleChoose.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(_Button, {\n        htmlType: \"submit\",\n        className: \"login-form-button\",\n        onClick: this.handleClick.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"\\u67E5\\u8BE2\"))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default connect()(Login);","map":{"version":3,"sources":["/Users/yingxiayin/WebstormProjects/react-chabiye/src/pages/Login/index.js"],"names":["React","connect","sendStudentData","majorOptions","request","FormItem","Item","Login","props","handleClick","state","studentID","studentPassword","then","response","that","console","log","status","data","res","dispatch","catch","error","handleChange","studentData","target","id","setState","value","doHandleClick","handleChoose","bind","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Button, Form, Icon, Input, Cascader } from 'antd';\nimport { connect } from 'react-redux'\nimport { sendStudentData } from './../../redux/action'\nimport majorOptions from '../../list'\nimport request  from '../../dataCal/dataCal'\nconst FormItem = Form.Item;\n\nclass Login extends React.Component {\n\n  //初始化\n  constructor(props){\n    super(props);\n    this.state = {\n      \"studentID\": '',\n      \"studentPassword\": '',\n      \"studentMajor\": '',\n      \"J\": '',\n      \"S\": '',\n      \"FL\": '',\n      \"GC\": '',\n      \"PA\": '',\n      \"NS\": '',\n      \"NC\": '',\n      \"CC\": '',\n      \"Credit\": '',\n    };\n\n  }\n\n\n  //传递学生数据\n  handleClick = () =>{\n\n    //const that = this;\n    //与后端通讯\n    request(this.state.studentID, this.state.studentPassword, this).then(function (response) {\n      const that = this;\n      console.log(response);\n      if (response.status === 200){\n        console.log(response.data);\n        let res = response.data;\n        console.log(res);\n        const { dispatch } = that.props;\n        dispatch(sendStudentData(that.state));\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n\n    console.log(this.state);\n  };\n\n  //读取学生的学号和密码\n  handleChange = (studentData) =>{\n    switch (studentData.target.id) {\n      case \"sd\":\n        this.setState({\n          \"studentID\": studentData.target.value ,\n        });\n        break;\n      case \"pw\":\n        this.setState({\n          \"studentPassword\": studentData.target.value ,\n        });\n        break;\n      default:\n        break;\n    }\n  };\n\n  doHandleClick= () =>{\n\n  };\n\n  //读取学生的专业\n  handleChoose = (studentData) =>{\n    this.setState({\n      \"studentMajor\": studentData[1],\n    });\n  };\n\n  render() {\n\n    return(\n        <div>\n            <Form className=\"login\">\n              <FormItem>\n                <Input\n                    prefix={<Icon type=\"user\"/>}\n                    id=\"sd\"\n                    placeholder=\"学号\"\n                    onChange={this.handleChange.bind(this)}\n                />\n              </FormItem>\n              <FormItem>\n                <Input\n                    prefix={<Icon type=\"lock\"/>}\n                    id=\"pw\"\n                    type=\"password\"\n                    placeholder=\"密码\"\n                    onChange={this.handleChange.bind(this)}\n                />\n              </FormItem>\n              <FormItem>\n                <Cascader\n                    options={majorOptions}\n                    id=\"mo\"\n                    placeholder=\"选择专业\"\n                    onChange={this.handleChoose.bind(this)}\n                />\n              </FormItem>\n              <FormItem>\n                <Button\n                    htmlType=\"submit\"\n                    className=\"login-form-button\"\n                    onClick={this.handleClick.bind(this)}\n                >查询</Button>\n              </FormItem>\n            </Form>\n        </div>\n    )\n  }\n}\nexport default connect()(Login)"]},"metadata":{},"sourceType":"module"}