{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/cascader/style/css\";\nimport _Cascader from \"antd/es/cascader\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nimport _classCallCheck from \"/Users/yingxiayin/WebstormProjects/react-chabiye/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yingxiayin/WebstormProjects/react-chabiye/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yingxiayin/WebstormProjects/react-chabiye/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yingxiayin/WebstormProjects/react-chabiye/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yingxiayin/WebstormProjects/react-chabiye/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/yingxiayin/WebstormProjects/react-chabiye/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nvar _jsxFileName = \"/Users/yingxiayin/WebstormProjects/react-chabiye/src/pages/Login/index.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { sendStudentData } from './../../redux/action';\nimport majorOptions from '../../list';\nimport request from '../../dataCal/dataCal';\nvar FormItem = _Form.Item;\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  //初始化\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.handleClick = function () {\n      var that = _assertThisInitialized(_assertThisInitialized(_this)); //与后端通讯\n\n\n      request(_this.state.studentID, _this.state.studentPassword).then(function (response) {\n        console.log(response);\n\n        if (response.status === 200) {\n          console.log(response.data);\n          var res = response.data;\n          console.log(res);\n          that.setState({\n            \"J\": res.isAttendJLesson,\n            \"S\": res.isAttendSLesson,\n            \"FL\": res.totalCreditOfLanguageCourse,\n            \"GC\": res.totalCreditOfGeneralCourse,\n            \"PA\": res.totalCreditOfPACourse,\n            \"NS\": res.totalCreditOfNSCourse,\n            \"NC\": res.totalCreditOfNCourse,\n            \"CC\": res.totalCreditOfCCourse,\n            \"Credit\": res.totalCreditOfCourse\n          });\n          console.log(that.state);\n          console.log(that.props);\n          var dispatch = that.props.dispatch;\n          dispatch(sendStudentData(that.state));\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleChange = function (studentData) {\n      switch (studentData.target.id) {\n        case \"sd\":\n          _this.setState({\n            \"studentID\": studentData.target.value\n          });\n\n          break;\n\n        case \"pw\":\n          _this.setState({\n            \"studentPassword\": studentData.target.value\n          });\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.handleChoose = function (studentData) {\n      _this.setState({\n        \"studentMajor\": studentData[1]\n      });\n    };\n\n    _this.state = {\n      \"studentID\": '',\n      \"studentPassword\": '',\n      \"studentMajor\": '',\n      \"J\": '',\n      \"S\": '',\n      \"FL\": '',\n      \"GC\": '',\n      \"PA\": '',\n      \"NS\": '',\n      \"NC\": '',\n      \"CC\": '',\n      \"Credit\": ''\n    };\n    return _this;\n  } //传递学生数据\n\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(_Form, {\n        className: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(_Input, {\n        prefix: React.createElement(_Icon, {\n          type: \"user\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }),\n        id: \"sd\",\n        placeholder: \"\\u5B66\\u53F7\",\n        onChange: this.handleChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      })), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(_Input, {\n        prefix: React.createElement(_Icon, {\n          type: \"lock\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }),\n        id: \"pw\",\n        type: \"password\",\n        placeholder: \"\\u5BC6\\u7801\",\n        onChange: this.handleChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(_Cascader, {\n        options: majorOptions,\n        id: \"mo\",\n        placeholder: \"\\u9009\\u62E9\\u4E13\\u4E1A\",\n        onChange: this.handleChoose.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(_Button, {\n        htmlType: \"submit\",\n        className: \"login-form-button\",\n        onClick: this.handleClick.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"\\u67E5\\u8BE2\"))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default connect()(Login);","map":{"version":3,"sources":["/Users/yingxiayin/WebstormProjects/react-chabiye/src/pages/Login/index.js"],"names":["React","connect","sendStudentData","majorOptions","request","FormItem","Item","Login","props","handleClick","that","state","studentID","studentPassword","then","response","console","log","status","data","res","setState","isAttendJLesson","isAttendSLesson","totalCreditOfLanguageCourse","totalCreditOfGeneralCourse","totalCreditOfPACourse","totalCreditOfNSCourse","totalCreditOfNCourse","totalCreditOfCCourse","totalCreditOfCourse","dispatch","catch","error","handleChange","studentData","target","id","value","handleChoose","bind","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Button, Form, Icon, Input, Cascader } from 'antd';\nimport { connect } from 'react-redux'\nimport { sendStudentData } from './../../redux/action'\nimport majorOptions from '../../list'\nimport request  from '../../dataCal/dataCal'\nconst FormItem = Form.Item;\n\nclass Login extends React.Component {\n\n  //初始化\n  constructor(props){\n    super(props);\n    this.state = {\n      \"studentID\": '',\n      \"studentPassword\": '',\n      \"studentMajor\": '',\n      \"J\": '',\n      \"S\": '',\n      \"FL\": '',\n      \"GC\": '',\n      \"PA\": '',\n      \"NS\": '',\n      \"NC\": '',\n      \"CC\": '',\n      \"Credit\": '',\n    };\n\n  }\n\n\n  //传递学生数据\n  handleClick = () =>{\n\n    const that = this;\n    //与后端通讯\n    request(this.state.studentID, this.state.studentPassword).then(function (response) {\n      console.log(response);\n      if (response.status === 200){\n        console.log(response.data);\n        let res = response.data;\n        console.log(res);\n        that.setState({\n          \"J\": res.isAttendJLesson,\n          \"S\": res.isAttendSLesson,\n          \"FL\": res.totalCreditOfLanguageCourse,\n          \"GC\": res.totalCreditOfGeneralCourse,\n          \"PA\": res.totalCreditOfPACourse,\n          \"NS\": res.totalCreditOfNSCourse,\n          \"NC\": res.totalCreditOfNCourse,\n          \"CC\": res.totalCreditOfCCourse,\n          \"Credit\": res.totalCreditOfCourse,\n        });\n        console.log(that.state);\n        console.log(that.props);\n        const { dispatch } = that.props;\n        dispatch(sendStudentData(that.state));\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  //读取学生的学号和密码\n  handleChange = (studentData) =>{\n    switch (studentData.target.id) {\n      case \"sd\":\n        this.setState({\n          \"studentID\": studentData.target.value ,\n        });\n        break;\n      case \"pw\":\n        this.setState({\n          \"studentPassword\": studentData.target.value ,\n        });\n        break;\n      default:\n        break;\n    }\n  };\n\n  //读取学生的专业\n  handleChoose = (studentData) =>{\n    this.setState({\n      \"studentMajor\": studentData[1],\n    });\n  };\n\n  render() {\n\n    return(\n        <div>\n            <Form className=\"login\">\n              <FormItem>\n                <Input\n                    prefix={<Icon type=\"user\"/>}\n                    id=\"sd\"\n                    placeholder=\"学号\"\n                    onChange={this.handleChange.bind(this)}\n                />\n              </FormItem>\n              <FormItem>\n                <Input\n                    prefix={<Icon type=\"lock\"/>}\n                    id=\"pw\"\n                    type=\"password\"\n                    placeholder=\"密码\"\n                    onChange={this.handleChange.bind(this)}\n                />\n              </FormItem>\n              <FormItem>\n                <Cascader\n                    options={majorOptions}\n                    id=\"mo\"\n                    placeholder=\"选择专业\"\n                    onChange={this.handleChoose.bind(this)}\n                />\n              </FormItem>\n              <FormItem>\n                <Button\n                    htmlType=\"submit\"\n                    className=\"login-form-button\"\n                    onClick={this.handleClick.bind(this)}\n                >查询</Button>\n              </FormItem>\n            </Form>\n        </div>\n    )\n  }\n}\nexport default connect()(Login)"]},"metadata":{},"sourceType":"module"}